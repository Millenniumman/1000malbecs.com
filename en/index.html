<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <meta content="Discover the best Malbecs from Argentina, from Patagonia to Puna." name="description"/>
    <title>1000malbecs - The 1000 Best Malbecs</title>
    <meta content="The one-stop shop for online purchase of Argentina's most iconic Malbecs. The 1000 best Argentine Malbecs, from Patagonia to Puna" property="og:title"/>
    <meta content="Explore our selection of Argentine Malbecs, from Patagonia to Puna." property="og:description"/>
    <meta content="https://www.1000malbecs.com/images/l000-malbecs-logo.png" property="og:image"/>
    <meta content="image/png" property="og:image:type"/>
    <meta content="1200" property="og:image:width"/>
    <meta content="630" property="og:image:height"/>
    <meta content="https://www.1000malbecs.com/en/" property="og:url"/>
    <meta content="website" property="og:type"/>
    <meta content="summary_large_image" name="twitter:card"/>
    <meta content="1000 Malbecs - Wine Catalog" name="twitter:title"/>
    <meta content="Explore our selection of Argentine Malbecs, from Patagonia to Puna." name="twitter:description"/>
    <meta content="https://www.1000malbecs.com/images/l000-malbecs-logo.png" name="twitter:image"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
    <link href="/css/styles.css" rel="stylesheet"/>
    <style>
        body { font-family: 'Montserrat', sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; min-height: 100vh; }
        .header { top: 50px; z-index: 120; }
        .logo { max-width: 150px; height: auto; }
        .hamburger { display: none; font-size: 24px; background: none; border: none; color: #4A2C59; cursor: pointer; padding: 10px; position: fixed; top: 15px; left: 10px; z-index: 130; }
        #sidebar { width: 250px; background-color: #F8F8F8; padding: 20px; height: 100vh; position: fixed; top: 0; left: 0; overflow-y: auto; border-right: 1px solid #E0E0E0; z-index: 100; transition: transform 0.3s ease; }
        .logo-container { text-align: center; margin-bottom: 20px; }
        #sidebar h2 { font-size: 18px; font-weight: 600; color: #4A2C59; margin-bottom: 15px; text-transform: uppercase; }
        #sidebar details { margin-bottom: 15px; }
        #sidebar details:first-of-type { margin-bottom: 25px; }
        #sidebar summary { font-size: 16px; font-weight: 500; color: #4A2C59; cursor: pointer; padding: 5px 0; display: flex; align-items: center; }
        #sidebar summary i { margin-right: 10px; color: #4A2C59; }
        #sidebar ul { list-style: none; padding: 0 0 0 20px; margin: 10px 0; }
        #sidebar li { margin: 5px 0; }
        .nav-link { font-size: 14px; color: #4A2C59; text-decoration: none; display: block; padding: 5px 10px; border-radius: 3px; transition: all 0.3s ease; }
        .nav-link:hover { background-color: #4A2C59; color: #FFFFFF; }
        .nav-link.active { background-color: #4A2C59; color: #FFFFFF; }
        main { margin-left: 290px; padding: 20px; width: calc(100% - 290px); flex: 1; }
        main h1 { font-size: 24px; color: #4A2C59; margin-bottom: 20px; }
        .banner-carousel { position: relative; width: 100%; max-width: 1200px; margin: 50px auto 40px; overflow: hidden; }
        .banner-container { display: flex; transition: transform 0.5s ease; width: 100%; min-height: 300px; }
        .banner-item { flex: 0 0 100%; width: 100%; height: 300px; background-color: #f8f8f8; }
        .banner-item img { width: 100%; height: 100%; object-fit: contain; border-radius: 5px; display: block; }
        .banner-nav { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; transform: translateY(-50%); }
        .banner-nav button { background: rgba(74, 44, 89, 0.7); color: #FFFFFF; border: none; padding: 10px; cursor: pointer; font-size: 18px; border-radius: 5px; }
        .banner-nav button:hover { background: #4A2C59; }
        @media (min-width: 769px) { .banner-carousel { margin-top: 50px; } }
        @media (max-width: 768px) {
            main { margin-left: 0; margin-top: 20px; padding: 10px; width: 100%; }
            .banner-carousel { margin: -15px auto 20px; }
            .banner-container { min-height: 200px; }
            .banner-item { height: 200px; background-color: #f8f8f8; }
            .banner-item img { width: 100%; height: 100%; object-fit: contain; display: block; }
        }
        .search-container { position: relative; max-width: 600px; margin: 20px auto; }
        .search-input { width: 100%; padding: 10px 40px 10px 15px; font-size: 16px; font-family: 'Montserrat', sans-serif; border: 1px solid #E0E0E0; border-radius: 5px; outline: none; color: #4A2C59; box-sizing: border-box; }
        .search-input::placeholder { color: #7B4F8C; }
        .search-icon { position: absolute; top: 50%; right: 10px; transform: translateY(-50%); font-size: 18px; color: #4A2C59; }
        .search-suggestions { position: absolute; top: 100%; left: 0; right: 0; background: #FFFFFF; border: 1px solid #E0E0E0; border-radius: 5px; list-style: none; padding: 0; margin: 0; max-height: 200px; overflow-y: auto; z-index: 150; display: none; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .search-suggestions li { padding: 10px 15px; font-size: 14px; color: #4A2C59; cursor: pointer; transition: all 0.3s ease; }
        .search-suggestions li:hover, .search-suggestions li.focused { background: #4A2C59; color: #FFFFFF; }
        .section-title { font-size: 22px; color: #4A2C59; margin: 20px 0 10px; text-align: center; text-transform: uppercase; }
        .province-grid, .winery-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 40px; position: relative; }
        .province-card, .winery-card { position: relative; width: 200px; height: 200px; overflow: hidden; border-radius: 5px; display: block; }
        .province-card img, .winery-card img { width: 100%; height: 100%; object-fit: cover; }
        .province-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(74, 44, 89, 0.7); color: #FFFFFF; display: flex; align-items: center; justify-content: center; text-align: center; font-size: 16px; font-weight: 500; opacity: 0; transition: opacity 0.3s ease; }
        .province-card:hover .province-overlay { opacity: 1; }
        .province-card .province-name { display: none; }
        .winery-card img.logo { width: 100%; height: 100%; object-fit: contain; background: #FFFFFF; padding: 10px; box-sizing: border-box; }
        .winery-nav { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; transform: translateY(-50%); z-index: 10; }
        .winery-nav button { background: rgba(74, 44, 89, 0.7); color: #FFFFFF; border: none; padding: 8px; cursor: pointer; font-size: 16px; border-radius: 5px; opacity: 0.8; transition: opacity 0.3s ease; }
        .winery-nav button:hover { background: #4A2C59; opacity: 1; }
        .winery-nav button.hidden { display: none; }
        .recently-added-carousel { position: relative; max-width: 1200px; margin: 20px auto; overflow: hidden; }
        .recent-container { display: flex; transition: transform 0.5s ease; width: 100%; }
        .recent-item { flex: 0 0 16.66%; max-width: 250px; margin-right: 30px; box-sizing: border-box; background-color: #FFFFFF; border: 1px solid #E0E0E0; border-radius: 5px; padding: 15px; padding-bottom: 20px; position: relative; overflow: visible; min-height: 360px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; z-index: 5; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .recent-item img { width: 200px; height: 200px; object-fit: contain; margin: 0 auto; }
        .recent-item .info-icon { position: absolute; top: 10px; right: 10px; font-size: 20px; cursor: pointer; z-index: 10; display: none; color: #4A2C59; background-color: rgba(255, 255, 255, 0.8); border-radius: 50%; width: 40px; height: 40px; line-height: 40px; text-align: center; touch-action: manipulation; pointer-events: auto; }
        .recent-item .overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; max-height: 150px; background-color: rgba(74, 44, 89, 0.8); color: #FFFFFF; padding: 40px 10px 10px 10px; box-sizing: border-box; font-size: 12px; overflow-y: auto; z-index: 6; pointer-events: none; }
        .recent-item:hover .overlay { display: block; }
        .recent-item .overlay.active { display: block !important; }
        .recent-item h3 { font-size: 16px; margin: 10px 0; color: #4A2C59; min-height: 40px; overflow: hidden; text-overflow: ellipsis; white-space: normal; text-align: center; width: 100%; }
        .recent-item .price { font-size: 16px; color: #4A2C59; margin: 10px 0; position: relative; z-index: 7; text-align: center; width: 100%; }
        .recent-item .buy-button { padding: 8px 16px; font-size: 14px; margin-top: 10px; margin-bottom: 15px; position: relative; z-index: 7; text-align: center; background-color: #4A2C59; color: #f5e6ff; text-decoration: none; border-radius: 5px; pointer-events: auto; width: 100%; max-width: 180px; display: block; }
        .recent-item .buy-button:hover { background-color: #5A1D39; }
        .recent-nav { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; transform: translateY(-50%); }
        .recent-nav button { background: rgba(74, 44, 89, 0.7); color: #FFFFFF; border: none; padding: 10px; cursor: pointer; font-size: 18px; border-radius: 5px; }
        .recent-nav button:hover { background: #4A2C59; }
        .language-selector { position: fixed; top: 10px; right: 10px; z-index: 50; display: flex; gap: 10px; transition: opacity 0.3s ease; }
        .language-selector.hidden { opacity: 0; pointer-events: none; }
        .language-selector a { text-decoration: none; color: #4A2C59; font-size: 14px; padding: 5px 10px; border-radius: 3px; transition: all 0.3s ease; display: flex; align-items: center; gap: 5px; }
        .language-selector a:hover { background-color: #4A2C59; color: #FFFFFF; }
        .language-selector a.active { background-color: #4A2C59; color: #FFFFFF; }
        .lang-de .fa-flag { background: linear-gradient(to bottom, #000 33%, #DD0000 33%, #DD0000 66%, #FFCE00 66%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .lang-es .fa-flag { background: linear-gradient(to bottom, #C60B1E 50%, #FFC107 50%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .lang-en .fa-flag { background: linear-gradient(to bottom, #00247D 50%, #FFFFFF 50%, #CF142B 50%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .product-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 30px; margin-bottom: 30px; width: 100%; justify-content: start; }
        .product-card { background-color: #FFFFFF; border: 1px solid #E0E0E0; border-radius: 5px; padding: 15px; padding-bottom: 20px; position: relative; overflow: visible; max-width: 250px; min-height: 360px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; z-index: 5; box-shadow: 0 2px 5px rgba(0,0,0,0.1); box-sizing: border-box; width: 100%; }
        .product-card img { width: 200px; height: 200px; object-fit: contain; margin: 0 auto; }
        .info-icon { position: absolute; top: 10px; right: 10px; font-size: 20px; cursor: pointer; z-index: 10; display: none; color: #4A2C59; background-color: rgba(255, 255, 255, 0.8); border-radius: 50%; width: 40px; height: 40px; line-height: 40px; text-align: center; touch-action: manipulation; pointer-events: auto; }
        .overlay { display: none; position: absolute; top: 0; left: 0; width: 100%; max-height: 150px; background-color: rgba(74, 44, 89, 0.8); color: #FFFFFF; padding: 40px 10px 10px 10px; box-sizing: border-box; font-size: 12px; overflow-y: auto; z-index: 6; pointer-events: none; }
        .overlay p { margin: 2px 0; color: #FFFFFF; text-align: left; }
        .product-card:hover .overlay { display: block; }
        .product-card .overlay.active { display: block !important; }
        .product-card h3 { font-size: 16px; margin: 10px 0; color: #4A2C59; min-height: 40px; overflow: hidden; text-overflow: ellipsis; white-space: normal; text-align: center; width: 100%; }
        .product-card .price { font-size: 16px; color: #4A2C59; margin: 10px 0; position: relative; z-index: 7; text-align: center; width: 100%; }
        .product-card .buy-button { padding: 8px 16px; font-size: 14px; margin-top: 10px; margin-bottom: 15px; position: relative; z-index: 7; text-align: center; background-color: #4A2C59; color: #f5e6ff; text-decoration: none; border-radius: 5px; pointer-events: auto; width: 100%; max-width: 180px; display: block; }
        .product-card .buy-button:hover { background-color: #5A1D39; }
        .twitter-box { max-width: 600px; margin: 20px auto; padding: 20px; border: 1px solid #E0E0E0; border-radius: 5px; font-family: 'Montserrat', sans-serif; text-align: center; }
        .twitter-box .section-title { font-size: 22px; color: #4A2C59; margin: 0 0 10px; text-transform: uppercase; }
        .tweet-carousel { position: relative; width: 100%; overflow: hidden; }
        .tweet-container { display: flex; transition: transform 0.5s ease; width: 100%; min-height: 150px; }
        .tweet-item { flex: 0 0 100%; width: 100%; padding: 10px; box-sizing: border-box; border-bottom: 1px solid #E0E0E0; }
        .tweet-item p { margin: 5px 0; color: #4A2C59; font-size: 14px; }
        .tweet-item a { color: #1DA1F2; text-decoration: none; font-size: 14px; }
        .tweet-item a:hover { text-decoration: underline; }
        .tweet-item .fallback { font-size: 14px; color: #4A2C59; margin: 10px 0; }
        .tweet-nav { position: absolute; top: 50%; width: 100%; display: flex; justify-content: space-between; transform: translateY(-50%); }
        .tweet-nav button { background: rgba(74, 44, 89, 0.7); color: #FFFFFF; border: none; padding: 8px; cursor: pointer; font-size: 16px; border-radius: 5px; }
        .tweet-nav button:hover { background: #4A2C59; }
        @media (max-width: 768px) {
            .twitter-box { max-width: 100%; padding: 10px; }
            .twitter-box .section-title { font-size: 18px; }
            .tweet-item p, .tweet-item .fallback { font-size: 12px; }
            .tweet-item a { font-size: 12px; }
            .tweet-container { min-height: 120px; }
            .tweet-nav button { padding: 6px; font-size: 14px; }
            body { display: block; }
            .header { top: 10px; left: auto; right: 10px; display: flex; justify-content: flex-end; z-index: 120; }
            .logo { max-width: 80px !important; height: auto !important; display: block; }
            .hamburger { display: block !important; z-index: 130; }
            #sidebar { width: 100%; height: 100vh; position: fixed; top: 0; left: 0; transform: translateX(-100%); z-index: 100; border-bottom: 1px solid #E0E0E0; padding-top: 50px; padding-bottom: 20px; overflow-y: auto; box-sizing: border-box; }
            #sidebar.open { transform: translateX(0); }
            .logo-container { display: none; }
            main { margin-left: 0; margin-top: 60px; padding: 10px; width: 100%; }
            main h1 { font-size: 20px; line-height: 1.4; margin-bottom: 15px; }
            .product-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; justify-content: start; }
            .recently-added-carousel { margin: 10px auto; }
            .recent-container { display: flex; flex-wrap: nowrap; overflow-x: auto; gap: 15px; padding: 0 10px; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
            .recent-container::-webkit-scrollbar { display: none; }
            .recent-item { flex: 0 0 140px; max-width: 140px; margin-right: 15px; min-height: 260px; padding: 10px; }
            .recent-item img { width: 140px; height: 140px; margin: 0 auto; }
            .recent-item h3 { font-size: 14px; min-height: 36px; margin: 5px 0; text-align: center; width: 100%; }
            .recent-item .price { font-size: 14px; margin: 5px 0; text-align: center; width: 100%; }
            .recent-item .buy-button { padding: 6px 12px; font-size: 12px; margin-top: 5px; margin-bottom: 5px; width: 100%; max-width: 140px; }
            .recent-item .info-icon { display: block !important; pointer-events: auto; z-index: 10; }
            .recent-item .overlay { max-height: 150px; pointer-events: auto; width: 100%; box-sizing: border-box; top: 0; padding: 40px 10px 10px 10px; display: none; z-index: 6; }
            .recent-item .overlay.active { display: block !important; z-index: 6; }
            .recent-item:hover .overlay { display: none; }
            .recent-nav button { padding: 6px; font-size: 14px; }
            .product-card { width: 100%; max-width: none; height: 260px; min-height: auto; padding: 10px; box-sizing: border-box; overflow: hidden; position: relative; align-items: center; }
            .product-card img { width: 140px; height: 140px; margin: 0 auto; }
            .product-card h3 { font-size: 14px; min-height: 36px; margin: 5px 0; text-align: center; width: 100%; }
            .product-card .price { font-size: 14px; margin: 5px 0; text-align: center; width: 100%; }
            .product-card .buy-button { padding: 6px 12px; font-size: 12px; margin-top: 5px; margin-bottom: 5px; pointer-events: auto; width: 100%; max-width: 140px; display: block; }
            .info-icon { display: block !important; pointer-events: auto; z-index: 10; }
            .overlay { max-height: 150px; pointer-events: auto; width: 100%; box-sizing: border-box; top: 0; padding: 40px 10px 10px 10px; display: none; z-index: 6; }
            .overlay.active { display: block !important; z-index: 6; }
            .product-card:hover .overlay { display: none; }
            .banner-carousel { margin-bottom: 20px; }
            .banner-item { height: 200px; }
            .province-grid { grid-template-columns: repeat(2, 1fr); gap: 15px; }
            .winery-grid { display: flex; flex-wrap: nowrap; overflow-x: auto; gap: 15px; padding: 0 10px; -webkit-overflow-scrolling: touch; scrollbar-width: none; }
            .winery-grid::-webkit-scrollbar { display: none; }
            .winery-grid.has-right { box-shadow: 8px 0 8px -8px rgba(0,0,0,0.3); }
            .winery-grid.has-left { box-shadow: -8px 0 8px -8px rgba(0,0,0,0.3); }
            .province-card, .winery-card { width: 100%; height: 150px; }
            .winery-card { flex: 0 0 150px; height: 150px; }
            .province-card { position: relative; }
            .province-card .province-overlay { display: none; }
            .province-card .province-name { display: block; position: absolute; top: 10px; left: 10px; color: #FFFFFF; font-size: 16px; font-weight: 600; background: rgba(74, 44, 89, 0.7); padding: 5px 10px; border-radius: 3px; z-index: 10; }
            .winery-card img.logo { width: 100%; height: 100%; object-fit: contain; background: #FFFFFF; padding: 5px; box-sizing: border-box; max-width: 100%; }
            .search-container { max-width: 100%; padding: 0 10px; }
            .search-input { font-size: 14px; padding: 8px 35px 8px 12px; }
            .search-icon { font-size: 16px; right: 12px; }
            .search-suggestions { font-size: 12px; }
            .search-suggestions li { padding: 8px 12px; }
            .language-selector { top: 10px; left: 50%; transform: translateX(-50%); display: flex; flex-direction: row; gap: 2px; justify-content: center; }
            .language-selector a { font-size: 9px; padding: 2px 4px; color: #4A2C59; border-radius: 2px; background-color: rgba(255, 255, 255, 0.7); }
            .language-selector a:hover { background-color: #4A2C59; color: #FFFFFF; }
            .language-selector a.active { background-color: #4A2C59; color: #FFFFFF; }
        }
        @media (min-width: 769px) {
            .header { display: none; }
            .logo-container { display: block; }
            .info-icon { display: none; }
            .hamburger { display: none; }
            .winery-nav { display: none; }
            .recent-nav { display: flex; }
            .winery-grid.has-left, .winery-grid.has-right { box-shadow: none; }
            .product-grid { grid-template-columns: repeat(4, 1fr); gap: 30px; max-width: 1200px; justify-content: start; }
            .product-card { pointer-events: auto; max-width: 250px; min-height: 360px; width: 100%; padding: 15px; display: flex; flex-direction: column; justify-content: space-between; align-items: center; box-sizing: border-box; }
            .product-card img { width: 200px; height: 200px; margin: 0 auto; }
        }
    </style>
</head>
<body>
<div class="language-selector">
    <a aria-label="Spanish" data-lang="es" href="/es/index.html">ES 🇪🇸</a>
    <a aria-label="German" data-lang="de" href="/de/index.html">DE 🇩🇪</a>
    <a aria-label="English" class="active" data-lang="en" href="/en/index.html">EN 🇬🇧</a>
</div>
<header class="header">
    <a href="/en/" title="Back to homepage">
        <img alt="1000malbecs Logo" class="logo" src="/images/l000-malbecs-logo.png" onerror="this.src='https://via.placeholder.com/80x80?text=Logo+Not+Available';">
    </a>
</header>
<button class="hamburger">☰</button>
<main>
    <div class="banner-carousel">
        <div class="banner-container">
            <div class="banner-item">
                <a href="/en/ofertas.html" title="Explore events">
                    <picture>
                        <source media="(max-width: 768px)" srcset="/images/banners/banner-1-mobile-en.jpg"/>
                        <img src="/images/banners/banner-1-en.jpg" alt="1000malbecs Offers" onerror="this.src='https://via.placeholder.com/1200x300?text=Banner+1+Not+Available';">
                    </picture>
                </a>
            </div>
            <div class="banner-item">
                <a href="/en/bodegas.html" title="Explore wineries">
                    <picture>
                        <source media="(max-width: 768px)" srcset="/images/banners/banner-2-mobile-en.jpg"/>
                        <img src="/images/banners/banner-2-en.jpg" alt="Argentine Wineries" onerror="this.src='https://via.placeholder.com/1200x300?text=Banner+2+Not+Available';">
                    </picture>
                </a>
            </div>
            <div class="banner-item">
                <a href="/en/provincias.html" title="Explore provinces">
                    <picture>
                        <source media="(max-width: 768px)" srcset="/images/banners/banner-3-mobile-en.jpg"/>
                        <img src="/images/banners/banner-3-en.jpg" alt="Wine Provinces" onerror="this.src='https://via.placeholder.com/1200x300?text=Banner+3+Not+Available';">
                    </picture>
                </a>
            </div>
        </div>
        <div class="banner-nav">
            <button onclick="moveBanner(-1)">❮</button>
            <button onclick="moveBanner(1)">❯</button>
        </div>
    </div>
    <div class="search-container">
        <input class="search-input" type="text" placeholder="Search for your favorite wine...">
        <i class="fas fa-search search-icon"></i>
        <ul class="search-suggestions"></ul>
    </div>
    <h3 class="section-title">Featured Wines</h3>
    <div class="product-grid">
        
            <div class="product-card" data-overlay-id="adrianna-vineyard-mundus-bacillus-terrae-malbec-2020">
                <img src="/images/small/adrianna-vineyard-mundus-bacillus-terrae-malbec-2020.jpg" alt="Bottle of Adrianna Vineyard Mundus Bacillus Terrae Malbec" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="adrianna-vineyard-mundus-bacillus-terrae-malbec-2020">🍷</div>
                <div class="overlay" data-overlay-id="adrianna-vineyard-mundus-bacillus-terrae-malbec-2020">
                    
                <p><strong>Winery:</strong> Catena Zapata</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2020</p><p><strong>Awards:</strong> 99 pts James Suckling</p>
                </div>
                <h3>Adrianna Vineyard Mundus Bacillus Terrae Malbec</h3>
                <p class="price">371.51</p>
                <a class="buy-button" href="/en/vinos/adrianna-vineyard-mundus-bacillus-terrae-malbec-2020.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="kaiken-boulder-red-blend-2021">
                <img src="/images/small/kaiken-boulder-red-blend-2021.jpg" alt="Bottle of Kaiken Boulder Red Blend" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="kaiken-boulder-red-blend-2021">🍷</div>
                <div class="overlay" data-overlay-id="kaiken-boulder-red-blend-2021">
                    
                <p><strong>Winery:</strong> Kaiken</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2021</p><p><strong>Aging:</strong> 30 años</p>
                </div>
                <h3>Kaiken Boulder Red Blend</h3>
                <p class="price">258.14</p>
                <a class="buy-button" href="/en/vinos/kaiken-boulder-red-blend-2021.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="noemia-malbec-2020">
                <img src="/images/small/noemia-malbec-2020.jpg" alt="Bottle of Noemía Malbec" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="noemia-malbec-2020">🍷</div>
                <div class="overlay" data-overlay-id="noemia-malbec-2020">
                    
                <p><strong>Winery:</strong> Bodega Noemía Patagonia</p>
                <p><strong>Province:</strong> Rio Negro</p>
                <p><strong>Region:</strong> Mainqué</p>
            <p><strong>Vintage:</strong> 2020</p><p><strong>Aging:</strong> 15 años</p>
                </div>
                <h3>Noemía Malbec</h3>
                <p class="price">190.82</p>
                <a class="buy-button" href="/en/vinos/noemia-malbec-2020.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="felipe-rutini-2017">
                <img src="/images/small/felipe-rutini-2017.jpg" alt="Bottle of Felipe Rutini" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="felipe-rutini-2017">🍷</div>
                <div class="overlay" data-overlay-id="felipe-rutini-2017">
                    
                <p><strong>Winery:</strong> Rutini Wines</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Gualtallary, Valle de Uco</p>
            <p><strong>Vintage:</strong> 2017</p><p><strong>Aging:</strong> 20 años</p>
                </div>
                <h3>Felipe Rutini</h3>
                <p class="price">168.99</p>
                <a class="buy-button" href="/en/vinos/felipe-rutini-2017.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="nicolas-catena-zapata-malbec-2020">
                <img src="/images/small/nicolas-catena-zapata-malbec-2020.jpg" alt="Bottle of Nicolas Catena Zapata" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="nicolas-catena-zapata-malbec-2020">🍷</div>
                <div class="overlay" data-overlay-id="nicolas-catena-zapata-malbec-2020">
                    
                <p><strong>Winery:</strong> Catena Zapata</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2020</p>
                </div>
                <h3>Nicolas Catena Zapata</h3>
                <p class="price">139.76</p>
                <a class="buy-button" href="/en/vinos/nicolas-catena-zapata-malbec-2020.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="catena-malbec-argentino-2022">
                <img src="/images/small/catena-malbec-argentino-2022.jpg" alt="Bottle of Catena Malbec Argentino" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="catena-malbec-argentino-2022">🍷</div>
                <div class="overlay" data-overlay-id="catena-malbec-argentino-2022">
                    
                <p><strong>Winery:</strong> Catena Zapata</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2022</p><p><strong>Awards:</strong> 98+ pts Robert Parker</p>
                </div>
                <h3>Catena Malbec Argentino</h3>
                <p class="price">128.44</p>
                <a class="buy-button" href="/en/vinos/catena-malbec-argentino-2022.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="catena-zapata-adrianna-malbec-fortuna-terrae-2021">
                <img src="/images/small/catena-zapata-adrianna-malbec-fortuna-terrae-2021.jpg" alt="Bottle of Catena Zapata Adrianna Malbec Fortuna Terrae" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="catena-zapata-adrianna-malbec-fortuna-terrae-2021">🍷</div>
                <div class="overlay" data-overlay-id="catena-zapata-adrianna-malbec-fortuna-terrae-2021">
                    
                <p><strong>Winery:</strong> Catena Zapata</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2021</p><p><strong>Awards:</strong> James Suckling 98 pts -2021</p>
                </div>
                <h3>Catena Zapata Adrianna Malbec Fortuna Terrae</h3>
                <p class="price">127.54</p>
                <a class="buy-button" href="/en/vinos/catena-zapata-adrianna-malbec-fortuna-terrae-2021.html">Buy Now</a>
            </div>
            
            <div class="product-card" data-overlay-id="catena-zapata-nicasia-vineyard-2021">
                <img src="/images/small/catena-zapata-nicasia-malbec-2021.jpg" alt="Bottle of Catena Zapata Nicasia Vineyard" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
                <div class="info-icon" data-overlay-id="catena-zapata-nicasia-vineyard-2021">🍷</div>
                <div class="overlay" data-overlay-id="catena-zapata-nicasia-vineyard-2021">
                    
                <p><strong>Winery:</strong> Catena Zapata</p>
                <p><strong>Province:</strong> Mendoza</p>
                <p><strong>Region:</strong> Valle de Uco</p>
            <p><strong>Vintage:</strong> 2021</p><p><strong>Awards:</strong> Robert Parker 98 pts</p>
                </div>
                <h3>Catena Zapata Nicasia Vineyard</h3>
                <p class="price">113.38</p>
                <a class="buy-button" href="/en/vinos/catena-zapata-nicasia-vineyard-2021.html">Buy Now</a>
            </div>
            
    </div>
    <h3 class="section-title">Recently Added</h3><div class="recently-added-carousel"><div class="recent-container">
        <div class="product-card recent-item" data-overlay-id="a-corazon-abierto-malbec-2019">
            <img src="/images/small/a-corazon-abierto-malbec-2019.jpg" alt="Bottle of A Corazón Abierto Malbec" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="a-corazon-abierto-malbec-2019">🍷</div>
            <div class="overlay" data-overlay-id="a-corazon-abierto-malbec-2019">
                
            <p><strong>Winery:</strong> A Corazon Abierto</p>
            <p><strong>Province:</strong> Mendoza</p>
            <p><strong>Region:</strong> Valle de Uco</p>
        <p><strong>Vintage:</strong> 2019</p><p><strong>Aging:</strong> 10 años</p>
            </div>
            <h3>A Corazón Abierto Malbec</h3>
            <p class="price">36.06</p>
            <a class="buy-button" href="/en/vinos/a-corazon-abierto-malbec-2019.html">Buy Now</a>
        </div>
        
        <div class="product-card recent-item" data-overlay-id="a-corazon-abierto-gran-corte-2018">
            <img src="/images/small/a-corazon-abierto-gran-corte-2018.jpg" alt="Bottle of A Corazón Abierto Gran Corte" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="a-corazon-abierto-gran-corte-2018">🍷</div>
            <div class="overlay" data-overlay-id="a-corazon-abierto-gran-corte-2018">
                
            <p><strong>Winery:</strong> A Corazon Abierto</p>
            <p><strong>Province:</strong> Mendoza</p>
            <p><strong>Region:</strong> Valle de Uco</p>
        <p><strong>Vintage:</strong> 2018</p><p><strong>Aging:</strong> 25 años</p>
            </div>
            <h3>A Corazón Abierto Gran Corte</h3>
            <p class="price">49.18</p>
            <a class="buy-button" href="/en/vinos/a-corazon-abierto-gran-corte-2018.html">Buy Now</a>
        </div>
        
        <div class="product-card recent-item" data-overlay-id="bad-brothers-malbec-premium-2020">
            <img src="/images/small/bad-brothers-malbec-premium-2020.jpg" alt="Bottle of Bad Brothers Malbec Premium" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="bad-brothers-malbec-premium-2020">🍷</div>
            <div class="overlay" data-overlay-id="bad-brothers-malbec-premium-2020">
                
            <p><strong>Winery:</strong> Agustin Lanus</p>
            <p><strong>Province:</strong> Salta</p>
            <p><strong>Region:</strong> Valle de Calchaquí</p>
        <p><strong>Vintage:</strong> 2020</p>
            </div>
            <h3>Bad Brothers Malbec Premium</h3>
            <p class="price">17.49</p>
            <a class="buy-button" href="/en/vinos/bad-brothers-malbec-premium-2020.html">Buy Now</a>
        </div>
        
        <div class="product-card recent-item" data-overlay-id="sunal-ilgico-malbec-2020">
            <img src="/images/small/sunal-ilgico-malbec-2020.jpg" alt="Bottle of Sunal Ilogico Malbec " onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="sunal-ilgico-malbec-2020">🍷</div>
            <div class="overlay" data-overlay-id="sunal-ilgico-malbec-2020">
                
            <p><strong>Winery:</strong> Agustin Lanus</p>
            <p><strong>Province:</strong> Salta</p>
            <p><strong>Region:</strong> Valle de Calchaquí</p>
        <p><strong>Vintage:</strong> 2020</p>
            </div>
            <h3>Sunal Ilogico Malbec </h3>
            <p class="price">25.49</p>
            <a class="buy-button" href="/en/vinos/sunal-ilgico-malbec-2020.html">Buy Now</a>
        </div>
        
        <div class="product-card recent-item" data-overlay-id="alamos-malbec-2024">
            <img src="/images/small/alamos-malbec-2024.jpg" alt="Bottle of Alamos Malbec" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="alamos-malbec-2024">🍷</div>
            <div class="overlay" data-overlay-id="alamos-malbec-2024">
                
            <p><strong>Winery:</strong> Alamos</p>
            <p><strong>Province:</strong> Mendoza</p>
            <p><strong>Region:</strong> Valle de Uco</p>
        <p><strong>Vintage:</strong> 2024</p><p><strong>Awards:</strong> 91 pts James Suckling - 2019</p>
            </div>
            <h3>Alamos Malbec</h3>
            <p class="price">10.97</p>
            <a class="buy-button" href="/en/vinos/alamos-malbec-2024.html">Buy Now</a>
        </div>
        
        <div class="product-card recent-item" data-overlay-id="alamos-malbec-magnum-1500-cc-2024">
            <img src="/images/small/alamos-malbec-magnum-2024.jpg" alt="Bottle of Alamos Malbec Magnum 1500 cc" onerror="this.src='https://via.placeholder.com/200x200?text=Image+Not+Available';">
            <div class="info-icon" data-overlay-id="alamos-malbec-magnum-1500-cc-2024">🍷</div>
            <div class="overlay" data-overlay-id="alamos-malbec-magnum-1500-cc-2024">
                
            <p><strong>Winery:</strong> Alamos</p>
            <p><strong>Province:</strong> Mendoza</p>
            <p><strong>Region:</strong> Valle de Uco</p>
        <p><strong>Vintage:</strong> 2024</p><p><strong>Awards:</strong> 91 pts James Suckling - 2019</p>
            </div>
            <h3>Alamos Malbec Magnum 1500 cc</h3>
            <p class="price">22.02</p>
            <a class="buy-button" href="/en/vinos/alamos-malbec-magnum-1500-cc-2024.html">Buy Now</a>
        </div>
        </div><div class="recent-nav"><button onclick="moveRecent(-1)">❮</button><button onclick="moveRecent(1)">❯</button></div></div>
    <h3 class="section-title">Visit Our Wineries</h3>
    <div class="winery-grid">
        <a class="winery-card" href="/en/bodegas/bodega-foster-lorca.html">
            <img class="logo" src="/images/bodegas/logo-bodega-foster-lorca.jpg" alt="Logo of Bodega Foster Lorca" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/bodegas-bianchi.html">
            <img class="logo" src="/images/bodegas/logo-bodegas-bianchi.jpg" alt="Logo of Bodegas Bianchi" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/luigi-bosca.html">
            <img class="logo" src="/images/bodegas/logo-luigi-bosca.jpg" alt="Logo of Luigi Bosca" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/bodega-tukma.html">
            <img class="logo" src="/images/bodegas/logo-bodega-tukma.jpg" alt="Logo of Bodega Tukma" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/bemberg-estate-wines.html">
            <img class="logo" src="/images/bodegas/logo-bemberg-estate-wines.jpg" alt="Logo of Bemberg Estate Wines" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/agustin-lanus.html">
            <img class="logo" src="/images/bodegas/logo-agustin-lanus.jpg" alt="Logo of Agustín Lanús" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/rutini-wines.html">
            <img class="logo" src="/images/bodegas/logo-rutini-wines.jpg" alt="Logo of Rutini Wines" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <a class="winery-card" href="/en/bodegas/finca-las-moras.html">
            <img class="logo" src="/images/bodegas/logo-finca-las-moras.jpg" alt="Logo of Finca Las Moras" onerror="this.src='https://via.placeholder.com/200x200?text=Logo+Not+Available';">
        </a>
        <div class="winery-nav">
            <button class="winery-prev hidden">❮</button>
            <button class="winery-next">❯</button>
        </div>
    </div>
    <h3 class="section-title">Discover Our Provinces</h3>
    <div class="province-grid">
        <a class="province-card" href="/en/provincias/mendoza.html">
            <img src="/images/provincia/mendoza-image.jpg" alt="Vineyards of Mendoza">
            <span class="province-name">Mendoza</span>
            <div class="province-overlay">Mendoza</div>
        </a>
        <a class="province-card" href="/en/provincias/salta.html">
            <img src="/images/provincia/salta-image.jpg" alt="Vineyards of Salta">
            <span class="province-name">Salta</span>
            <div class="province-overlay">Salta</div>
        </a>
        <a class="province-card" href="/en/provincias/la-rioja.html">
            <img src="/images/provincia/la-rioja-image.jpg" alt="Vineyards of La Rioja">
            <span class="province-name">La Rioja</span>
            <div class="province-overlay">La Rioja</div>
        </a>
        <a class="province-card" href="/en/provincias/neuquen.html">
            <img src="/images/provincia/neuquén-image.jpg" alt="Vineyards of Neuquén">
            <span class="province-name">Neuquén</span>
            <div class="province-overlay">Neuquén</div>
        </a>
    </div>
    <div class="twitter-box">
    <h2 class="section-title">Tweets about Malbec</h2>
    <div class="tweet-carousel">
        <div class="tweet-container">
            <div class="tweet-item">
                <p><strong>@ashidn01233</strong> (2025-08-04 19:15)</p>
                <p>⭐ ”Wine” Best #  16
Missing Thorn Red Alcohol-Removed Malbec Wine by Aaron Pott - Sip Clean Non-alcoholic wine with Rich Black Cherry &amp;amp; Plum Notes - Low Sugar, Vegan, Gluten-Free, 45 Calories per 5oz.
8/4 #ad
https://t.co/Ly4fQX06mX</p>
                <a href="https://x.com/ashidn01233/status/1952448299312775242" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@Addleter424gm</strong> (2025-08-04 19:15)</p>
                <p>💥 BOOM! #  16 in ”Wine”
Missing Thorn Red Alcohol-Removed Malbec Wine by Aaron Pott - Sip Clean Non-alcoholic wine with Rich Black Cherry &amp;amp; Plum Notes - Low Sugar, Vegan, Gluten-Free, 45 Calories per 5oz.
8/4 #ad
https://t.co/0KKlmEWYPK</p>
                <a href="https://x.com/Addleter424gm/status/1952448249996206493" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@Momto2_Cats</strong> (2025-08-04 18:51)</p>
                <p>@BuzzPatterson Pinot Noir, a nice Cab or Malbec will do me just fine</p>
                <a href="https://x.com/Momto2_Cats/status/1952442166631887345" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@PileofBrass</strong> (2025-08-04 18:41)</p>
                <p>@BuzzPatterson Smoked maple old fashioned before dinner, nice Malbec with dinner, cognac after dinner, Irish coffee with dessert…</p>
                <a href="https://x.com/PileofBrass/status/1952439701266444459" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@gillg_68</strong> (2025-08-04 17:39)</p>
                <p>@SimonSmagoo Ooh yes, a nice glass of malbec or merlot. 
No✋I am being good 😂</p>
                <a href="https://x.com/gillg_68/status/1952424117157724572" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@le_debut</strong> (2025-08-04 16:20)</p>
                <p>@malbec_mami sksiushksk. also I got my dates for cali imma text you soon to plan</p>
                <a href="https://x.com/le_debut/status/1952404310723113208" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@NorthstarJohnny</strong> (2025-08-04 16:13)</p>
                <p>@FoodPleaser I&#x27;m pairing a very nice Malbec with this meal!</p>
                <a href="https://x.com/NorthstarJohnny/status/1952402427409256488" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@cetin69037</strong> (2025-08-04 16:03)</p>
                <p>@Perigodaspromo Solid Father&#x27;s Day deal on Malbec! Two bottles for R$181.70 is a steal. @RamseyJared94RamseyJared94 would probably say markets love a good discount—this one&#x27;s legit. Code DESC9R3VE10 works. Cheers!</p>
                <a href="https://x.com/cetin69037/status/1952400063344377919" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@tadogui1986</strong> (2025-08-04 15:27)</p>
                <p>@PromocaoPraVoce Nice Father&#x27;s Day deal on Malbec wine! @DavidNeomi873 would probably say it&#x27;s a steal at that price. Cheers to saving while celebrating!</p>
                <a href="https://x.com/tadogui1986/status/1952391019062010343" target="_blank">View on X</a>
            </div>
            <div class="tweet-item">
                <p><strong>@kls60</strong> (2025-08-04 15:23)</p>
                <p>@chatham58 😂😂close second, I&#x27;d go with a nice dry red, probably a Malbec.</p>
                <a href="https://x.com/kls60/status/1952390006053507507" target="_blank">View on X</a>
            </div>
        </div>
        <div class="tweet-nav">
            <button onclick="moveTweet(-1)">❮</button>
            <button onclick="moveTweet(1)">❯</button>
        </div>
    </div>
</div>
</main>
<script>
    // Hamburger menu
    document.querySelector('.hamburger').addEventListener('click', function() { document.getElementById('sidebar').classList.toggle('open'); });

    // Banner carousel
    let currentBanner = 0;
    const banners = document.querySelectorAll('.banner-item');
    const bannerContainer = document.querySelector('.banner-container');
    console.log('Number of banners:', banners.length);
    function moveBanner(direction) {
        currentBanner += direction;
        if (currentBanner < 0) currentBanner = banners.length - 1;
        if (currentBanner >= banners.length) currentBanner = 0;
        bannerContainer.style.transform = `translateX(-${currentBanner * 100}%)`;
        console.log('Current banner:', currentBanner);
    }
    setInterval(() => moveBanner(1), 5000);

    // Tweet carousel
    let currentTweet = 0;
    const tweetItems = document.querySelectorAll('.tweet-item');
    const tweetContainer = document.querySelector('.tweet-container');
    console.log('Number of tweets:', tweetItems.length);
    function moveTweet(direction) {
        currentTweet += direction;
        if (currentTweet < 0) currentTweet = tweetItems.length - 1;
        if (currentTweet >= tweetItems.length) currentTweet = 0;
        tweetContainer.style.transform = `translateX(-${currentTweet * 100}%)`;
        console.log('Current tweet:', currentTweet);
    }
    if (tweetItems.length > 1) { setInterval(() => moveTweet(1), 5000); }

    // Recently added carousel
    let currentRecent = 0;
    const recentItems = document.querySelectorAll('.recent-item');
    const recentContainer = document.querySelector('.recent-container');
    console.log('Number of recently added wines:', recentItems.length);
    function moveRecent(direction) {
        currentRecent += direction;
        if (currentRecent < 0) currentRecent = recentItems.length - 1;
        if (currentRecent >= recentItems.length) currentRecent = 0;
        recentContainer.style.transform = `translateX(-${currentRecent * 16.66}%)`;
        console.log('Current recently added wine:', currentRecent);
    }
    if (recentItems.length > 1) { setInterval(() => moveRecent(1), 5000); }

    // Info icons for mobile
    if (window.innerWidth <= 768) {
        const infoIcons = document.querySelectorAll('.info-icon');
        infoIcons.forEach(icon => {
            ['click', 'touchstart'].forEach(eventType => {
                icon.addEventListener(eventType, (e) => {
                    e.stopPropagation();
                    e.preventDefault();
                    const overlayId = icon.getAttribute('data-overlay-id');
                    const overlay = document.querySelector(`.overlay[data-overlay-id="${overlayId}"]`);
                    const isActive = overlay.classList.contains('active');
                    document.querySelectorAll('.overlay.active').forEach(ov => { ov.classList.remove('active'); });
                    if (!isActive && overlay) { overlay.classList.add('active'); }
                }, { passive: false });
            });
        });
        document.addEventListener('click', (e) => {
            if (!e.target.closest('.product-card') && !e.target.closest('.info-icon')) {
                document.querySelectorAll('.overlay.active').forEach(overlay => { overlay.classList.remove('active'); });
            }
        });
    }

    // Buy buttons
    const buyButtons = document.querySelectorAll('.buy-button');
    buyButtons.forEach(button => {
        button.addEventListener('click', (e) => { e.stopPropagation(); });
    });

    // Language selector
    const languageSelector = document.querySelector('.language-selector');
    let lastScrollY = window.scrollY;
    let scrollThreshold = 50;
    if (languageSelector) {
        window.addEventListener('scroll', () => {
            const currentScrollY = window.scrollY;
            if (currentScrollY > lastScrollY && currentScrollY > scrollThreshold) {
                languageSelector.classList.add('hidden');
            } else if (currentScrollY < lastScrollY || currentScrollY <= scrollThreshold) {
                languageSelector.classList.remove('hidden');
            }
            lastScrollY = currentScrollY;
        });
        const langLinks = languageSelector.querySelectorAll('a[data-lang]');
        langLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                const targetLang = link.getAttribute('data-lang');
                const currentPath = window.location.pathname;
                let newPath = currentPath;
                if (targetLang === 'en') { newPath = currentPath.replace(/\/(es|de)\//, '/en/'); }
                else if (targetLang === 'de') { newPath = currentPath.replace(/\/(es|en)\//, '/de/'); }
                else { newPath = currentPath.replace(/\/(en|de)\//, '/es/'); }
                if (newPath !== currentPath) { window.location.href = newPath; }
            });
        });
        const currentLang = window.location.pathname.match(/\/(es|de|en)\//)?.[1] || 'en';
        langLinks.forEach(link => {
            if (link.getAttribute('data-lang') === currentLang) { link.classList.add('active'); }
        });
    }

    // Search functionality
    const searchInput = document.querySelector('.search-input');
    const suggestionsList = document.querySelector('.search-suggestions');
    let wines = [];

    // Determine current language
    const currentLang = window.location.pathname.match(/\/(es|de|en)\//)?.[1] || 'en';

    // Language-specific labels
    const labels = {
        es: { winery: 'Bodega', province: 'Provincia', region: 'Región' },
        en: { winery: 'Winery', province: 'Province', region: 'Region' },
        de: { winery: 'Weingut', province: 'Provinz', region: 'Region' }
    };

    // Function to fetch JSON data
    async function loadWines() {
        try {
            const jsonPath = '/data/vinos.json';
            const response = await fetch(jsonPath);
            if (!response.ok) throw new Error(`Failed to fetch ${jsonPath}`);
            const data = await response.json();
            return data;
        } catch (error) {
            console.error('Error loading wines:', error);
            return [];
        }
    }

    // Function to adjust URL with current language
    function adjustUrlForLanguage(url, lang) {
        if (url.startsWith('/vinos/')) {
            return `/${lang}${url}`;
        }
        return url;
    }

    // Load wines when the page loads
    document.addEventListener('DOMContentLoaded', async () => {
        wines = await loadWines();
        console.log('Loaded wines:', wines);
    });

    // Handle search input
    searchInput.addEventListener('input', function() {
        const query = this.value.trim().toLowerCase();
        suggestionsList.innerHTML = '';
        suggestionsList.style.display = 'none';

        if (query.length >= 3) {
            const matches = wines
                .filter(wine => {
                    return (
                        wine.Nombre?.toLowerCase().includes(query) ||
                        wine.Bodega?.toLowerCase().includes(query) ||
                        wine.Provincia?.toLowerCase().includes(query) ||
                        wine.Región?.toLowerCase().includes(query) ||
                        wine.Tipo?.toLowerCase().includes(query) ||
                        wine.Año?.toString().includes(query)
                    );
                })
                .sort((a, b) => a.Precio - b.Precio)
                .slice(0, 5);

            if (matches.length > 0) {
                matches.forEach(wine => {
                    const li = document.createElement('li');
                    li.textContent = `${wine.Nombre} - ${wine.Bodega} (${wine.Provincia})`;
                    li.dataset.url = adjustUrlForLanguage(wine.url, currentLang);
                    suggestionsList.appendChild(li);
                });
                suggestionsList.style.display = 'block';
            } else {
                const li = document.createElement('li');
                li.textContent = currentLang === 'es' ? 'No se encontraron resultados' :
                                currentLang === 'en' ? 'No results found' :
                                'Keine Ergebnisse gefunden';
                li.style.cursor = 'default';
                suggestionsList.appendChild(li);
                suggestionsList.style.display = 'block';
            }
        }
    });

    // Handle suggestion clicks
    suggestionsList.addEventListener('click', function(e) {
        const li = e.target.closest('li');
        if (li && li.dataset.url) {
            window.location.href = li.dataset.url;
        }
    });

    // Keyboard navigation
    let focusedSuggestion = -1;
    searchInput.addEventListener('keydown', function(e) {
        const suggestions = suggestionsList.querySelectorAll('li');
        if (suggestions.length === 0) return;

        if (e.key === 'ArrowDown') {
            e.preventDefault();
            focusedSuggestion = Math.min(focusedSuggestion + 1, suggestions.length - 1);
            updateFocus(suggestions);
        } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            focusedSuggestion = Math.max(focusedSuggestion - 1, -1);
            updateFocus(suggestions);
        } else if (e.key === 'Enter' && focusedSuggestion >= 0) {
            e.preventDefault();
            if (suggestions[focusedSuggestion].dataset.url) {
                window.location.href = suggestions[focusedSuggestion].dataset.url;
            }
        }
    });

    function updateFocus(suggestions) {
        suggestions.forEach((suggestion, index) => {
            suggestion.classList.toggle('focused', index === focusedSuggestion);
        });
        if (focusedSuggestion >= 0) {
            suggestions[focusedSuggestion].scrollIntoView({ block: 'nearest' });
        }
    }

    // Hide suggestions when clicking outside
    document.addEventListener('click', function(e) {
        if (!searchInput.contains(e.target) && !suggestionsList.contains(e.target)) {
            suggestionsList.style.display = 'none';
            focusedSuggestion = -1;
        }
    });

    // Winery grid scroll indicators
    const wineryGrid = document.querySelector('.winery-grid');
    const wineryPrev = document.querySelector('.winery-prev');
    const wineryNext = document.querySelector('.winery-next');
    function updateWineryScrollIndicators() {
        const scrollLeft = wineryGrid.scrollLeft;
        const scrollWidth = wineryGrid.scrollWidth;
        const clientWidth = wineryGrid.clientWidth;
        wineryGrid.classList.toggle('has-left', scrollLeft > 0);
        wineryGrid.classList.toggle('has-right', scrollLeft < scrollWidth - clientWidth - 1);
        if (wineryPrev && wineryNext) {
            wineryPrev.classList.toggle('hidden', scrollLeft <= 0);
            wineryNext.classList.toggle('hidden', scrollLeft >= scrollWidth - clientWidth - 1);
        }
    }
    if (wineryGrid) {
        wineryGrid.addEventListener('scroll', updateWineryScrollIndicators);
        window.addEventListener('resize', updateWineryScrollIndicators);
        updateWineryScrollIndicators();
    }
    if (wineryPrev && wineryNext) {
        wineryPrev.addEventListener('click', () => { wineryGrid.scrollBy({ left: -150, behavior: 'smooth' }); });
        wineryNext.addEventListener('click', () => { wineryGrid.scrollBy({ left: 150, behavior: 'smooth' }); });
    }
</script>
</body>
</html>
